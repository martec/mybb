{% extends 'layouts_moderation' %}

{% block head %}
    <title>{{ lang.posts_awaiting_moderation }} - {{ mybb.settings.bbname }}</title>
{% endblock head %}

{% set results = true %}

{% block moderationHeader %}
    <header class="page-header">
        <h1 class="title title--page">{{ lang.mod_queue }}</h1>
    </header>
{% endblock moderationHeader %}

{% block moderationBody %}
    {% include 'modcp_modqueue_menu' %}
    <form action="modcp.php" method="post">
        <input type="hidden" name="my_post_key" value="{{ mybb.post_code }}" />
        <input type="hidden" name="action" value="do_modqueue" />
        <section class="block">
            <h1 class="title title--major">{{ lang.posts_awaiting_moderation }}</h1>
            {% for post in posts %}
                {% include 'modcp_modqueue_post' %}
            {% else %}
                {% set results = false %}
                <div class="alert alert--no-results">{{ lang.mod_queue_posts_empty }}</div>
            {% endfor %}
            {% if results %}
                <div class="mod-queue__mass-controls">
                    <a href="javascript:void(0)" onclick="$('input.radio_ignore').each(function(){ $(this).prop('checked', true); }); return false;" class="button button--basic mass_ignore">
                        {{ include('partials_icon', {icon: 'minus-circle', class: 'button__icon'}, with_context = false) }}
                        <span class="button__text">{{ lang.mark_all_ignored }}</span>
                    </a>
                    <a href="javascript:void(0)" onclick="$('input.radio_delete').each(function(){ $(this).prop('checked', true); }); return false;" class="button button--basic mass_delete">
                        {{ include('partials_icon', {icon: 'trash', class: 'button__icon'}, with_context = false) }}
                        <span class="button__text">{{ lang.mark_all_deletion }}</span>
                    </a>
                    <a href="javascript:void(0)" onclick="$('input.radio_approve').each(function(){ $(this).prop('checked', true); }); return false;" class="button button--basic mass_approve">
                        {{ include('partials_icon', {icon: 'check', class: 'button__icon'}, with_context = false) }}
                        <span class="button__text">{{ lang.mark_all_approved }}</span>
                    </a>
                </div>
                <div class="sort-results">
                    <button type="submit" class="button button--medium">
                        {{ include('partials_icon', {icon: 'arrow-circle-right', class: 'button__icon'}, with_context = false) }}
                        <span class="button__text">{{ lang.perform_actions }}</span>
                    </button>
                </div>
            {% endif %}
        </section>
        {{ multipage|raw }}
    </form>
{% endblock moderationBody %}
